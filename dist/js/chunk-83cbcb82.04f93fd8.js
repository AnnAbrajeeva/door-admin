(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83cbcb82"],{"0938":function(t,e,i){"use strict";i("c776")},"43e7":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",[t.loading?i("div",{staticClass:"loader-wrapper",attrs:{row:""}},[i("ring-loader",{staticClass:"loader",attrs:{color:"#36D7B7",loading:"loading",size:150,sizeUnit:"px"}})],1):i("v-row",{attrs:{justify:"center"}},[i("v-card",{attrs:{width:"100%",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v(t._s((this.isEdit?"Редактировать":"Создать")+" дополнительные параметры"))]),i("v-spacer")],1),[i("v-container",[i("v-form",{ref:"form",staticClass:"mt-10 mb-10",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{staticClass:"mb-10",attrs:{rules:t.nameRules,label:"Наименование",required:""},model:{value:t.additionally.name,callback:function(e){t.$set(t.additionally,"name",e)},expression:"additionally.name"}}),i("v-select",{staticClass:"mb-10",attrs:{items:t.addsType,label:"Тип","item-text":"name","item-value":"type","return-object":""},model:{value:t.additionally.type,callback:function(e){t.$set(t.additionally,"type",e)},expression:"additionally.type"}}),i("v-text-field",{staticClass:"mb-10",attrs:{rules:t.nameRules,label:"Стоимость",required:""},model:{value:t.additionally.price,callback:function(e){t.$set(t.additionally,"price",e)},expression:"additionally.price"}}),i("v-switch",{staticClass:"mb-10",attrs:{label:"Статус",color:"success","hide-details":""},model:{value:t.additionally.status,callback:function(e){t.$set(t.additionally,"status",e)},expression:"additionally.status"}}),i("v-btn",{staticClass:"mr-4",attrs:{color:"success",loading:t.isSubmitting},on:{click:t.addOrEdit}},[t._v(" "+t._s(this.isEdit?"Сохранить":"Создать")+" ")]),i("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:t.close}},[t._v(" Отменить ")])],1)],1)]],2)],1)],1)],1)},n=[],s=i("1da1"),r=i("d4ec"),o=i("bee2"),l=i("262e"),c=i("2caf"),u=(i("96cf"),i("b0c0"),i("9ab4")),d=i("1b40"),h=i("4bb5"),p=i("e738"),v=i("c3c7"),f=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(r["a"])(this,i),t=e.apply(this,arguments),t.additionally={name:"",price:null,status:!1,type:{name:"",type:""},id:""},t.loading=!0,t.isSubmitting=!1,t.valid=!1,t.nameRules=[function(t){return!!t||"Это поле не может быть пустым"}],t}return Object(o["a"])(i,[{key:"isEdit",get:function(){return!!this.$route.params.id}},{key:"addOrEdit",get:function(){return this.isEdit?this.editAdditionally:this.addNewAdd}},{key:"form",get:function(){return this.$refs.form}},{key:"editAdditionally",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isSubmitting=!0,t.next=3,this.$store.dispatch("editedAdditionally",{name:this.additionally.name,type:this.additionally.type,price:this.additionally.price,status:this.additionally.status,id:this.additionally.id});case 3:this.isSubmitting=!1,this.close(),this.$forceUpdate();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"addNewAdd",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.form.validate(),!this.valid){t.next=17;break}return t.prev=2,this.isSubmitting=!0,t.next=6,this.$store.dispatch("createAdd",{name:this.additionally.name,type:this.additionally.type.type,price:this.additionally.price,status:this.additionally.status}).then((function(){i.$router.push("/reference/additionally")}));case 6:this.isSubmitting=!1,this.$forceUpdate(),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](2),e=Object(v["a"])(this.$store.state.error),this.loading=!1,this.$toasted.show(e,{theme:"bubble",position:"top-center",duration:5e3});case 15:t.next=19;break;case 17:return this.isSubmitting=!1,t.abrupt("return");case 19:case"end":return t.stop()}}),t,this,[[2,10]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"close",value:function(){this.$router.push("/reference/additionally")}},{key:"created",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$route.params.id){t.next=17;break}return t.prev=1,this.loading=!0,t.next=5,p["a"].get("/api/v1/additionally/".concat(this.$route.params.id));case 5:e=t.sent,i=e.data,this.additionally=i,this.loading=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),this.loading=!1,this.$router.push({name:"notFound"});case 15:t.next=18;break;case 17:this.loading=!1;case 18:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(){return t.apply(this,arguments)}return e}()}]),i}(d["c"]);Object(u["a"])([h["b"]],f.prototype,"allAdds",void 0),Object(u["a"])([h["b"]],f.prototype,"addsType",void 0),f=Object(u["a"])([d["a"]],f);var m=f,b=m,y=(i("0938"),i("2877")),g=i("6544"),w=i.n(g),k=i("8336"),C=i("b0af"),V=i("a523"),S=i("4bd4"),x=i("a722"),$=i("0fd9"),j=i("b974"),O=i("2fa4"),A=i("b73d"),E=i("8654"),_=i("71d9"),R=i("2a7f"),D=Object(y["a"])(b,a,n,!1,null,null,null);e["a"]=D.exports;w()(D,{VBtn:k["a"],VCard:C["a"],VContainer:V["a"],VForm:S["a"],VLayout:x["a"],VRow:$["a"],VSelect:j["a"],VSpacer:O["a"],VSwitch:A["a"],VTextField:E["a"],VToolbar:_["a"],VToolbarTitle:R["b"]})},"4bb5":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return r}));var a=i("2fe1"),n=i("2f62"),s=(o("computed",n["e"]),o("computed",n["c"])),r=o("methods",n["b"]);o("methods",n["d"]);function o(t,e){function i(i,n){return Object(a["a"])((function(a,s){a[t]||(a[t]={});var r,o=(r={},r[s]=i,r);a[t][s]=void 0!==n?e(n,o)[s]:e(o)[s]}))}function n(t,e){if("string"===typeof e){var a=e,n=t;return i(a,void 0)(n,a)}var s=l(e),r=t;return i(r,s)}return n}function l(t){var e=t&&t.namespace;if("string"===typeof e)return"/"!==e[e.length-1]?e+"/":e}},"9d01":function(t,e,i){},b73d:function(t,e,i){"use strict";var a=i("15fd"),n=i("5530"),s=(i("0481"),i("4069"),i("ec29"),i("9d01"),i("d3b7"),i("25f0"),i("4de4"),i("c37a")),r=i("5607"),o=i("2b0e"),l=o["a"].extend({name:"rippleable",directives:{ripple:r["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),c=i("8547"),u=i("58df");function d(t){t.preventDefault()}var h=Object(u["a"])(s["a"],l,c["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=s["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:d},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:d},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var a=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===a&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}}),p=i("c3f0"),v=i("0789"),f=i("490a"),m=i("80d2"),b=["title"];e["a"]=h.extend({name:"v-switch",directives:{Touch:p["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(a["a"])(t,b));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(n["a"])(Object(n["a"])({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(n["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(n["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(v["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(f["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===m["y"].left&&this.isActive||t.keyCode===m["y"].right&&!this.isActive)&&this.onChange()}}})},c776:function(t,e,i){},ec29:function(t,e,i){}}]);
//# sourceMappingURL=chunk-83cbcb82.04f93fd8.js.map